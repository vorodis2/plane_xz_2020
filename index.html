<!DOCTYPE html><html><head>
<meta charset="UTF-8">
<title>plan2020</title>




<script src='src/lib/jquery-1.11.3.js'></script>
<!--

<script src='src/libMy/MenuScene.js'></script>
<script src='src/libMy/SceneSB.js'></script>
	дабаг-->	
<script src='src/lib/tween.min.js'></script>
<script src='src/lib/pixi.js'></script>
<script src='src/lib/three.min.js'></script>

<script src='src/libMy/divLib.js'></script><!--дабаг-->







<style type="text/css">
	#stats { position: absolute; top:0; left: 200px; }
</style>

</head>
<meta name="viewport" content="width=device-width,height=device-height,user-scalable=no user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
<body>

<script  type="module">

	import { P20 } from './src/p20/P20.js';
	import { Menu} from './src/p20/menu/Menu.js';
	window.trace = window.console.log.bind(window.console);

	

	var p20=new P20(function(s,p,p1){
		trace(s,p,p1);		
		if(s=="complit"){			
			return;
		}
	});
	document.body.appendChild(p20.div); //приатачиваем див там 3д и соты

	var menu=new Menu(function(s,p,p1){		
		trace(s,p,p1);
		p20.setArrObj(p);
	});
	menu.setP20(p20);


	





	function sizeWindow () {
		var w = document.documentElement.clientWidth;
		var h = document.documentElement.clientHeight;
		menu.sizeWindow(w,h);
		p20.sizeWindow(w,h);
	}
	window.onresize = sizeWindow;
	sizeWindow();


	let s='[{"id":0,"point0":{"x":0,"y":0},"point1":{"x":750,"y":-1350},"width":500},{"id":1,"point0":{"x":750,"y":-1350},"point1":{"x":2250,"y":-1350},"width":500},{"id":2,"point0":{"x":2250,"y":-1350},"point1":{"x":3000,"y":0},"width":500},{"id":3,"point0":{"x":0,"y":0},"point1":{"x":-1575,"y":0},"width":500},{"id":4,"point0":{"x":-1575,"y":0},"point1":{"x":-1575,"y":4000},"width":500},{"id":6,"point0":{"x":4625,"y":4000},"point1":{"x":4625,"y":0},"width":500},{"id":7,"point0":{"x":4625,"y":0},"point1":{"x":3000,"y":0},"width":500},{"id":8,"point0":{"x":-1575,"y":1850},"point1":{"x":4625,"y":1850},"width":400},{"id":9,"point0":{"x":-1575,"y":4000},"point1":{"x":750,"y":4000},"width":500},{"id":10,"point0":{"x":750,"y":5296},"point1":{"x":2250,"y":5296},"width":500},{"id":11,"point0":{"x":2250,"y":5296},"point1":{"x":2250,"y":4000},"width":500},{"id":12,"point0":{"x":2250,"y":4000},"point1":{"x":4625,"y":4000},"width":500},{"id":13,"point0":{"x":750,"y":4000},"point1":{"x":750,"y":5296},"width":500},{"id":14,"point0":{"x":750,"y":4000},"point1":{"x":750,"y":6132},"width":400,"alignmentThisSide":"right","alignmentId":13,"alignmentOtherSide":"right"},{"id":15,"point0":{"x":750,"y":6132},"point1":{"x":-1061,"y":6132},"width":400},{"id":16,"point0":{"x":-1061,"y":6132},"point1":{"x":-1061,"y":4000},"width":400},{"id":17,"point0":{"x":-1061,"y":4000},"point1":{"x":750,"y":4000},"width":400},{"id":18,"point0":{"x":2250,"y":4000},"point1":{"x":2250,"y":1850},"width":100,"alignmentThisSide":"right","alignmentId":11,"alignmentOtherSide":"left"}]';


	//let ss='{"type":"SpStageSten","tipPoint":"SpPointSten","tipSplice":"SpliceSten","arrPoint":[{"type":"SpPointSten","idArr":0,"position":{"x":-2400,"y":5200}},{"type":"SpPointSten","idArr":1,"position":{"x":-4200,"y":2200}},{"type":"SpPointSten","idArr":2,"position":{"x":3300,"y":-900}},{"type":"SpPointSten","idArr":3,"position":{"x":-5500,"y":-500}},{"type":"SpPointSten","idArr":4,"position":{"x":4600,"y":10400}},{"type":"SpPointSten","idArr":5,"position":{"x":-5300,"y":10300}},{"type":"SpPointSten","idArr":6,"position":{"x":-3000,"y":6100}},{"type":"SpPointSten","idArr":7,"position":{"x":-1700,"y":6400}},{"type":"SpPointSten","idArr":8,"position":{"x":-2600,"y":1200}},{"type":"SpPointSten","idArr":9,"position":{"x":-5700,"y":3200}},{"type":"SpPointSten","idArr":10,"position":{"x":-7400,"y":3800}},{"type":"SpPointSten","idArr":11,"position":{"x":1600,"y":2900}},{"type":"SpPointSten","idArr":12,"position":{"x":3250.5451713395637,"y":5770.61266874351}},{"type":"SpPointSten","idArr":13,"position":{"x":3799.6105919003116,"y":2000.363447559709}},{"type":"SpPointSten","idArr":14,"position":{"x":-1500,"y":4200}},{"type":"SpPointSten","idArr":15,"position":{"x":7100,"y":3200}},{"type":"SpPointSten","idArr":16,"position":{"x":6955.814905814904,"y":672.5634725634719}},{"type":"SpPointSten","idArr":17,"position":{"x":7200,"y":5700}},{"type":"SpPointSten","idArr":18,"position":{"x":7900,"y":7800}},{"type":"SpPointSten","idArr":19,"position":{"x":9246.150696150695,"y":5291.728091728091}},{"type":"SpPointSten","idArr":20,"position":{"x":5100,"y":3500}}],"arrSplice":[{"type":"SpliceSten","idArr":0,"delph":610,"tip":0,"position":{"x":-2400,"y":5200},"position1":{"x":-4200,"y":2200},"connected":{"arr":["20D52CCD-2AAC-4F73-9E53-19117CADF9DC"],"arr1":["20D52CCD-2AAC-4F73-9E53-19117CADF9DC","F3041501-D6DA-4A8F-8C5B-920829DBBA13","CB75D9FC-F447-4F74-B114-A1F1F87A83F9"]},"uuid":"20D52CCD-2AAC-4F73-9E53-19117CADF9DC","height":300,"sUi":3,"offset":-165},{"type":"SpliceSten","idArr":1,"delph":500,"tip":0,"position":{"x":3300,"y":-900},"position1":{"x":-5500,"y":-500},"connected":{"arr":["21A8C0F3-671F-4B62-B1DE-3FA8A95E9B9F"],"arr1":["21A8C0F3-671F-4B62-B1DE-3FA8A95E9B9F"]},"uuid":"21A8C0F3-671F-4B62-B1DE-3FA8A95E9B9F","height":300,"sUi":-1,"offset":0},{"type":"SpliceSten","idArr":2,"delph":500,"tip":0,"position":{"x":4600,"y":10400},"position1":{"x":-5300,"y":10300},"connected":{"arr":["626A3DAD-3C77-4FC3-BBC7-84B0E687C880"],"arr1":["626A3DAD-3C77-4FC3-BBC7-84B0E687C880"]},"uuid":"626A3DAD-3C77-4FC3-BBC7-84B0E687C880","height":300,"sUi":-1,"offset":0},{"type":"SpliceSten","idArr":3,"delph":500,"tip":0,"position":{"x":-3000,"y":6100},"position1":{"x":-1700,"y":6400},"connected":{"arr":["6A554D10-B5F9-4719-81CD-AC88D13658F8"],"arr1":["6A554D10-B5F9-4719-81CD-AC88D13658F8"]},"uuid":"6A554D10-B5F9-4719-81CD-AC88D13658F8","height":300,"sUi":-1,"offset":0},{"type":"SpliceSten","idArr":4,"delph":500,"tip":0,"position":{"x":-4200,"y":2200},"position1":{"x":-2600,"y":1200},"connected":{"arr":["20D52CCD-2AAC-4F73-9E53-19117CADF9DC","F3041501-D6DA-4A8F-8C5B-920829DBBA13","CB75D9FC-F447-4F74-B114-A1F1F87A83F9"],"arr1":["F3041501-D6DA-4A8F-8C5B-920829DBBA13"]},"uuid":"F3041501-D6DA-4A8F-8C5B-920829DBBA13","height":300,"sUi":-1,"offset":0},{"type":"SpliceSten","idArr":5,"delph":500,"tip":0,"position":{"x":-5700,"y":3200},"position1":{"x":-4200,"y":2200},"connected":{"arr":["CB75D9FC-F447-4F74-B114-A1F1F87A83F9","33141697-0B0D-49FC-8A6A-5D0EE54CF080"],"arr1":["20D52CCD-2AAC-4F73-9E53-19117CADF9DC","F3041501-D6DA-4A8F-8C5B-920829DBBA13","CB75D9FC-F447-4F74-B114-A1F1F87A83F9"]},"uuid":"CB75D9FC-F447-4F74-B114-A1F1F87A83F9","height":300,"sUi":-1,"offset":0},{"type":"SpliceSten","idArr":6,"delph":500,"tip":0,"position":{"x":-7400,"y":3800},"position1":{"x":-5700,"y":3200},"connected":{"arr":["33141697-0B0D-49FC-8A6A-5D0EE54CF080"],"arr1":["CB75D9FC-F447-4F74-B114-A1F1F87A83F9","33141697-0B0D-49FC-8A6A-5D0EE54CF080"]},"uuid":"33141697-0B0D-49FC-8A6A-5D0EE54CF080","height":300,"sUi":-1,"offset":0},{"type":"SpliceSten","idArr":7,"delph":500,"tip":0,"position":{"x":1600,"y":2900},"position1":{"x":3250.5451713395637,"y":5770.61266874351},"connected":{"arr":["F01AA10F-EC1C-43B8-8E5C-9190D3BDC1C1","2346AEE4-028E-4768-A337-4A7EEE2F1EE1","0C448A95-06F9-4286-9DBF-5EBCDB8A0757"],"arr1":["F01AA10F-EC1C-43B8-8E5C-9190D3BDC1C1"]},"uuid":"F01AA10F-EC1C-43B8-8E5C-9190D3BDC1C1","height":300,"sUi":-1,"offset":-80},{"type":"SpliceSten","idArr":8,"delph":500,"tip":0,"position":{"x":1600,"y":2900},"position1":{"x":3799.6105919003116,"y":2000.363447559709},"connected":{"arr":["F01AA10F-EC1C-43B8-8E5C-9190D3BDC1C1","2346AEE4-028E-4768-A337-4A7EEE2F1EE1","0C448A95-06F9-4286-9DBF-5EBCDB8A0757"],"arr1":["2346AEE4-028E-4768-A337-4A7EEE2F1EE1"]},"uuid":"2346AEE4-028E-4768-A337-4A7EEE2F1EE1","height":300,"sUi":-1,"offset":0},{"type":"SpliceSten","idArr":9,"delph":500,"tip":0,"position":{"x":-1500,"y":4200},"position1":{"x":1600,"y":2900},"connected":{"arr":["0C448A95-06F9-4286-9DBF-5EBCDB8A0757"],"arr1":["F01AA10F-EC1C-43B8-8E5C-9190D3BDC1C1","2346AEE4-028E-4768-A337-4A7EEE2F1EE1","0C448A95-06F9-4286-9DBF-5EBCDB8A0757"]},"uuid":"0C448A95-06F9-4286-9DBF-5EBCDB8A0757","height":300,"sUi":-1,"offset":0},{"type":"SpliceSten","idArr":10,"delph":500,"tip":0,"position":{"x":7100,"y":3200},"position1":{"x":6955.814905814904,"y":672.5634725634719},"connected":{"arr":["6621D726-716E-4100-9565-7C8C3FD9EE13","F41BF96B-3C35-4C9A-8312-78934C1ED02F","B3662E99-BDF3-4183-B48C-4575EF238665"],"arr1":["6621D726-716E-4100-9565-7C8C3FD9EE13"]},"uuid":"6621D726-716E-4100-9565-7C8C3FD9EE13","height":300,"sUi":-1,"offset":0},{"type":"SpliceSten","idArr":11,"delph":500,"tip":0,"position":{"x":7200,"y":5700},"position1":{"x":7100,"y":3200},"connected":{"arr":["F41BF96B-3C35-4C9A-8312-78934C1ED02F","F64D2BD3-87F1-4282-97A0-133AF3378542","527B1885-86F0-41D2-86C3-1BF404AACE24"],"arr1":["6621D726-716E-4100-9565-7C8C3FD9EE13","F41BF96B-3C35-4C9A-8312-78934C1ED02F","B3662E99-BDF3-4183-B48C-4575EF238665"]},"uuid":"F41BF96B-3C35-4C9A-8312-78934C1ED02F","height":300,"sUi":-1,"offset":-123},{"type":"SpliceSten","idArr":12,"delph":500,"tip":0,"position":{"x":7900,"y":7800},"position1":{"x":7200,"y":5700},"connected":{"arr":["F64D2BD3-87F1-4282-97A0-133AF3378542"],"arr1":["F41BF96B-3C35-4C9A-8312-78934C1ED02F","F64D2BD3-87F1-4282-97A0-133AF3378542","527B1885-86F0-41D2-86C3-1BF404AACE24"]},"uuid":"F64D2BD3-87F1-4282-97A0-133AF3378542","height":300,"sUi":-1,"offset":0},{"type":"SpliceSten","idArr":13,"delph":500,"tip":0,"position":{"x":7200,"y":5700},"position1":{"x":9246.150696150695,"y":5291.728091728091},"connected":{"arr":["F41BF96B-3C35-4C9A-8312-78934C1ED02F","F64D2BD3-87F1-4282-97A0-133AF3378542","527B1885-86F0-41D2-86C3-1BF404AACE24"],"arr1":["527B1885-86F0-41D2-86C3-1BF404AACE24"]},"uuid":"527B1885-86F0-41D2-86C3-1BF404AACE24","height":300,"sUi":-1,"offset":0},{"type":"SpliceSten","idArr":14,"delph":500,"tip":0,"position":{"x":5100,"y":3500},"position1":{"x":7100,"y":3200},"connected":{"arr":["B3662E99-BDF3-4183-B48C-4575EF238665"],"arr1":["6621D726-716E-4100-9565-7C8C3FD9EE13","F41BF96B-3C35-4C9A-8312-78934C1ED02F","B3662E99-BDF3-4183-B48C-4575EF238665"]},"uuid":"B3662E99-BDF3-4183-B48C-4575EF238665","height":300,"sUi":-1,"offset":0}],"arrPol":[]}'
	
	
    
    p20.setArrObj(JSON.parse(s));
    menu.setArrObj(JSON.parse(s));
    trace()
    menu.mDragScane.redrag()
	
</script>	
</body></html>